{"version":3,"sources":["assets\\Script\\PersistentUser.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA4C,kCAAY;IAAxD;QAAA,qEAsBC;QArBU,YAAM,GAAW,EAAE,CAAC;QACpB,WAAK,GAAW,EAAE,CAAC;QACnB,cAAQ,GAAW,EAAE,CAAC;;IAmBjC,CAAC;IAjBG,+BAAM,GAAN;QACI,qBAAqB;QACrB,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;YACvC,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACtC,EAAE,CAAC,GAAG,CAAC,qCAAqC,CAAC,CAAC;SACjD;IACL,CAAC;IAED,oCAAW,GAAX,UAAY,MAAc,EAAE,KAAkB,EAAE,QAAqB;QAAzC,sBAAA,EAAA,UAAkB;QAAE,yBAAA,EAAA,aAAqB;QACjE,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,YAAY;QACZ,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAC9C,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAC5C,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;IACtD,CAAC;IArBgB,cAAc;QADlC,OAAO;OACa,cAAc,CAsBlC;IAAD,qBAAC;CAtBD,AAsBC,CAtB2C,EAAE,CAAC,SAAS,GAsBvD;kBAtBoB,cAAc","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class PersistentUser extends cc.Component {\r\n    public userId: string = \"\";\r\n    public email: string = \"\";\r\n    public nickname: string = \"\";\r\n\r\n    onLoad() {\r\n        // 避免重複掛 persist node\r\n        if (!cc.game.isPersistRootNode(this.node)) {\r\n            cc.game.addPersistRootNode(this.node);\r\n            cc.log('[PersistentUser] addPersistRootNode');\r\n        }\r\n    }\r\n\r\n    setUserInfo(userId: string, email: string = \"\", nickname: string = \"\") {\r\n        this.userId = userId;\r\n        this.email = email;\r\n        this.nickname = nickname;\r\n        // 也可以同步存本地端\r\n        cc.sys.localStorage.setItem('userId', userId);\r\n        cc.sys.localStorage.setItem('email', email);\r\n        cc.sys.localStorage.setItem('nickname', nickname);\r\n    }\r\n}"]}