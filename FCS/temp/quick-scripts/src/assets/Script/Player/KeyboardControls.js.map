{"version":3,"sources":["assets\\Script\\Player\\KeyboardControls.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { IInputControls } from \"./IInputControls\";\r\n\r\nexport class KeyboardControls implements IInputControls {\r\n    private moveDir: cc.Vec2 = cc.v2(0, 0);\r\n    private isInteractPressed: boolean = false;\r\n    private isChopPressed: boolean = false;\r\n    private isChopHeld: boolean = false;\r\n    private isRunHeld: boolean = false;\r\n\r\n\r\n    constructor() {\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n    }\r\n\r\n    getMoveDirection(): cc.Vec2 {\r\n        return this.moveDir;\r\n    }\r\n\r\n    private onKeyDown(event: cc.Event.EventKeyboard) {\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.w:\r\n                this.moveDir.y = 1;\r\n                break;\r\n            case cc.macro.KEY.s:\r\n                this.moveDir.y = -1;\r\n                break;\r\n            case cc.macro.KEY.a:\r\n                this.moveDir.x = -1;\r\n                break;\r\n            case cc.macro.KEY.d:\r\n                this.moveDir.x = 1;\r\n                break;\r\n            case cc.macro.KEY.e:\r\n                this.isInteractPressed = true;\r\n                break;\r\n            case cc.macro.KEY.space:\r\n                this.isChopHeld = true;\r\n                break;\r\n            case cc.macro.KEY.ctrl:\r\n                this.isRunHeld = true;\r\n                break;\r\n        }\r\n    }\r\n\r\n    private onKeyUp(event: cc.Event.EventKeyboard) {\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.w:\r\n            case cc.macro.KEY.s:\r\n                this.moveDir.y = 0;\r\n                break;\r\n            case cc.macro.KEY.a:\r\n            case cc.macro.KEY.d:\r\n                this.moveDir.x = 0;\r\n                break;\r\n            case cc.macro.KEY.e:\r\n                this.isInteractPressed = false;\r\n                break;\r\n            case cc.macro.KEY.space:\r\n                this.isChopHeld = false;\r\n                break;\r\n            case cc.macro.KEY.ctrl:\r\n                this.isRunHeld = false;\r\n                break;\r\n\r\n        }\r\n    }\r\n\r\n    public getInteractPressed(): boolean {\r\n        return this.isInteractPressed;\r\n    }\r\n    public getChopPressed(): boolean {\r\n        return this.isChopHeld;\r\n    }\r\n    public getRunHeld(): boolean {\r\n        return this.isRunHeld;\r\n    }\r\n}\r\n"]}