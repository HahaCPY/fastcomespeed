{"version":3,"sources":["assets/Script/Player/GamepadControls.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAqD,2CAAY;IAAjE;QAAA,qEA6BC;QA3BG,WAAK,GAAW,GAAG,CAAC;;IA2BxB,CAAC;IAzBG,wCAAM,GAAN,UAAO,EAAU;QACb,IAAM,QAAQ,GAAG,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;QAEtE,IAAM,EAAE,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,eAAe;QACvC,IAAI,CAAC,EAAE;YAAE,OAAO;QAEhB,IAAM,KAAK,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,oBAAoB;QAC9C,IAAM,KAAK,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,oBAAoB;QAE9C,iBAAiB;QACjB,IAAM,QAAQ,GAAG,GAAG,CAAC;QACrB,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACrD,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAErD,IAAM,EAAE,GAAG,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QACnC,IAAM,EAAE,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,aAAa;QAElD,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC;QAClB,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC;QAElB,YAAY;QACZ,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,GAAG,EAAE;YACvB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SACzC;IACL,CAAC;IA1BD;QADC,QAAQ;0DACW;IAFH,uBAAuB;QAD3C,OAAO;OACa,uBAAuB,CA6B3C;IAAD,8BAAC;CA7BD,AA6BC,CA7BoD,EAAE,CAAC,SAAS,GA6BhE;kBA7BoB,uBAAuB","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class GamepadCharacterControl extends cc.Component {\n    @property\n    speed: number = 200;\n\n    update(dt: number) {\n        const gamepads = navigator.getGamepads ? navigator.getGamepads() : [];\n\n        const gp = gamepads[0]; // 只取第一個搖桿（玩家1）\n        if (!gp) return;\n\n        const axisX = gp.axes[0]; // 左搖桿水平軸（-1 左, 1 右）\n        const axisY = gp.axes[1]; // 左搖桿垂直軸（-1 上, 1 下）\n\n        // 若搖桿位移小於死區，視為靜止\n        const deadZone = 0.2;\n        const moveX = Math.abs(axisX) > deadZone ? axisX : 0;\n        const moveY = Math.abs(axisY) > deadZone ? axisY : 0;\n\n        const dx = moveX * this.speed * dt;\n        const dy = -moveY * this.speed * dt; // 注意 Y 軸方向相反\n\n        this.node.x += dx;\n        this.node.y += dy;\n\n        // 可選：翻轉角色方向\n        if (Math.abs(moveX) > 0.1) {\n            this.node.scaleX = moveX > 0 ? 1 : -1;\n        }\n    }\n}\n"]}