{"version":3,"sources":["assets\\Script\\script\\select\\BGMManager.ts"],"names":[],"mappings":";;;;;;AAQA,EAAE,CAAC,KAAK,CAAC;IACL,OAAO,EAAE,EAAE,CAAC,SAAS;IAErB,UAAU,EAAE;QACR,GAAG,EAAE;YACD,OAAO,EAAE,IAAI;YACb,IAAI,EAAE,EAAE,CAAC,WAAW;SACvB;KACJ;IAED,MAAM;QACF,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,QAAQ,IAAI,MAAM,CAAC,cAAc,EAAE;YAC3C,+BAA+B;YAC/B,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YACpB,OAAO;SACV;QAED,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAE,qCAAqC;QAC7E,MAAM,CAAC,cAAc,GAAG,IAAI,CAAC;QAE7B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE;YACrB,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;SACnB;IACL,CAAC;IAED,SAAS;QACL,OAAO,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC;IAChD,CAAC;CACJ,CAAC,CAAC","file":"","sourceRoot":"/","sourcesContent":["export { }; // Make this file an external module\r\n\r\ndeclare global {\r\n    interface Window {\r\n        __BGM_LOADED__?: boolean;\r\n    }\r\n}\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        bgm: {\r\n            default: null,\r\n            type: cc.AudioSource\r\n        }\r\n    },\r\n\r\n    onLoad() {\r\n        if (!cc.sys.isNative && window.__BGM_LOADED__) {\r\n            // if existed, don't load again\r\n            this.node.destroy();\r\n            return;\r\n        }\r\n\r\n        cc.game.addPersistRootNode(this.node);  // persist the BGM node across scenes\r\n        window.__BGM_LOADED__ = true;\r\n\r\n        if (!this.bgm.isPlaying) {\r\n            this.bgm.play();\r\n        }\r\n    },\r\n\r\n    onDestroy() {\r\n        console.warn(\"⚠️ BGMManager 被摧毀了！！音樂會中斷喔！\");\r\n    }\r\n});\r\n"]}