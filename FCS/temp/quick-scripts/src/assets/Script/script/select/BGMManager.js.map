{"version":3,"sources":["assets/Script/script/select/BGMManager.ts"],"names":[],"mappings":";;;;;;AAQA,EAAE,CAAC,KAAK,CAAC;IACL,OAAO,EAAE,EAAE,CAAC,SAAS;IAErB,UAAU,EAAE;QACR,GAAG,EAAE;YACD,OAAO,EAAE,IAAI;YACb,IAAI,EAAE,EAAE,CAAC,WAAW;SACvB;KACJ;IAED,MAAM;QACF,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,QAAQ,IAAI,MAAM,CAAC,cAAc,EAAE;YAC3C,+BAA+B;YAC/B,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YACpB,OAAO;SACV;QAED,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAE,qCAAqC;QAC7E,MAAM,CAAC,cAAc,GAAG,IAAI,CAAC;QAE7B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE;YACrB,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;SACnB;IACL,CAAC;IAED,SAAS;QACL,OAAO,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC;IAChD,CAAC;CACJ,CAAC,CAAC","file":"","sourceRoot":"/","sourcesContent":["export { }; // Make this file an external module\n\ndeclare global {\n    interface Window {\n        __BGM_LOADED__?: boolean;\n    }\n}\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        bgm: {\n            default: null,\n            type: cc.AudioSource\n        }\n    },\n\n    onLoad() {\n        if (!cc.sys.isNative && window.__BGM_LOADED__) {\n            // if existed, don't load again\n            this.node.destroy();\n            return;\n        }\n\n        cc.game.addPersistRootNode(this.node);  // persist the BGM node across scenes\n        window.__BGM_LOADED__ = true;\n\n        if (!this.bgm.isPlaying) {\n            this.bgm.play();\n        }\n    },\n\n    onDestroy() {\n        console.warn(\"⚠️ BGMManager 被摧毀了！！音樂會中斷喔！\");\n    }\n});\n"]}