{"version":3,"sources":["assets\\Script\\script\\GameManager-level1.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAC5C,2DAAsD;AAGtD;IAAyC,+BAAY;IAArD;QAAA,qEA6CC;QA3CG,iBAAW,GAAc,IAAI,CAAC;QAG9B,iBAAW,GAAc,IAAI,CAAC;QAG9B,iBAAW,GAAY,IAAI,CAAC;QAG5B,iBAAW,GAAY,IAAI,CAAC;;IAkChC,CAAC;oBA7CoB,WAAW;IAgB5B,2BAAK,GAAL;QACI,WAAW;QACX,EAAE,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC,OAAO,GAAG,IAAI,CAAC;QAC/C,EAAE,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC,OAAO,GAAG,IAAI,CAAC;QAGjD,eAAe;QACf,EAAE,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC,OAAO,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACtD,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAED,kCAAY,GAAZ;QACI,IAAM,WAAW,GAAG,4BAAkB,CAAC,WAAW,CAAC;QACnD,IAAM,SAAS,GAAG,aAAW,CAAC,iBAAiB,CAAC;QAEhD,IAAM,MAAM,GAAG,SAAS,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;QAErE,kBAAkB;QAClB,IAAM,EAAE,GAAG,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAClC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,CAAC;QAC/C,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAEvB,2BAA2B;QAC3B,IAAI,WAAW,KAAK,CAAC,EAAE;YACnB,IAAM,EAAE,GAAG,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YAClC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,CAAC;YAC/C,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;SAC1B;IACL,CAAC;;IA/BD,oCAAoC;IACtB,6BAAiB,GAAW,CAAC,CAAC;IAZ5C;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;oDACU;IAG9B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;oDACU;IAG9B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;oDACU;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;oDACU;IAXX,WAAW;QAD/B,OAAO;OACa,WAAW,CA6C/B;IAAD,kBAAC;CA7CD,AA6CC,CA7CwC,EAAE,CAAC,SAAS,GA6CpD;kBA7CoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\r\nimport PlayerModeSelector from \"./PlayerModeSelector\";\r\n\r\n@ccclass\r\nexport default class GameManager extends cc.Component {\r\n    @property(cc.Prefab)\r\n    girl1Prefab: cc.Prefab = null;\r\n\r\n    @property(cc.Prefab)\r\n    girl2Prefab: cc.Prefab = null;\r\n\r\n    @property(cc.Node)\r\n    spawnPoint1: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    spawnPoint2: cc.Node = null;\r\n\r\n    // 存放選擇角色的 index（0: girl1, 1: girl2）\r\n    public static selectedCharIndex: number = 0;\r\n\r\n    start() {\r\n        // ✅ 開啟物理系統\r\n        cc.director.getPhysicsManager().enabled = true;\r\n        cc.director.getCollisionManager().enabled = true;\r\n\r\n\r\n        // ✅ 關閉重力（設成 0）\r\n        cc.director.getPhysicsManager().gravity = cc.v2(0, 0);\r\n        this.spawnPlayers();\r\n    }\r\n\r\n    spawnPlayers() {\r\n        const playerCount = PlayerModeSelector.player_mode;\r\n        const charIndex = GameManager.selectedCharIndex;\r\n\r\n        const prefab = charIndex === 0 ? this.girl1Prefab : this.girl2Prefab;\r\n\r\n        // Instantiate 玩家1\r\n        const p1 = cc.instantiate(prefab);\r\n        p1.setPosition(this.spawnPoint1.getPosition());\r\n        this.node.addChild(p1);\r\n\r\n        // Instantiate 玩家2（如果是雙人模式）\r\n        if (playerCount === 1) {\r\n            const p2 = cc.instantiate(prefab);\r\n            p2.setPosition(this.spawnPoint2.getPosition());\r\n            this.node.addChild(p2);\r\n        }\r\n    }\r\n}\r\n"]}