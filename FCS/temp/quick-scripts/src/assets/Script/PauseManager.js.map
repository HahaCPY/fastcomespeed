{"version":3,"sources":["assets\\Script\\PauseManager.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA0C,gCAAY;IAAtD;QAAA,qEAkDC;QAjDW,cAAQ,GAAY,KAAK,CAAC;QAGlC,gBAAU,GAAY,IAAI,CAAC,CAAE,mBAAmB;;IA8CpD,CAAC;IA5CG,4BAAK,GAAL;QACI,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;SAClC;QAED,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAC/E,CAAC;IAED,gCAAS,GAAT,UAAU,KAA6B;QACnC,IAAI,KAAK,CAAC,OAAO,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE;YACvC,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;IACL,CAAC;IAED,kCAAW,GAAX;QACI,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;QAE/B,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,EAAE,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;YACpB,IAAI,IAAI,CAAC,UAAU;gBAAE,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;SACtD;aAAM;YACH,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YACrB,IAAI,IAAI,CAAC,UAAU;gBAAE,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;SACvD;IACL,CAAC;IAED,+BAA+B;IAC/B,iCAAU,GAAV;QACI,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QACrB,IAAI,IAAI,CAAC,UAAU;YAAE,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;IACxD,CAAC;IAED,2BAA2B;IAC3B,kCAAW,GAAX;QACI,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QACrB,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC;IACvD,CAAC;IAED,gCAAgC;IAChC,mCAAY,GAAZ;QACI,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QACrB,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,2BAA2B;IAClE,CAAC;IA7CD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;oDACS;IAJV,YAAY;QADhC,OAAO;OACa,YAAY,CAkDhC;IAAD,mBAAC;CAlDD,AAkDC,CAlDyC,EAAE,CAAC,SAAS,GAkDrD;kBAlDoB,YAAY","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class PauseManager extends cc.Component {\r\n    private isPaused: boolean = false;\r\n\r\n    @property(cc.Node)\r\n    pausePanel: cc.Node = null;  // 拖入你的 pause panel\r\n\r\n    start() {\r\n        if (this.pausePanel) {\r\n            this.pausePanel.active = false;\r\n        }\r\n\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n    }\r\n\r\n    onKeyDown(event: cc.Event.EventKeyboard) {\r\n        if (event.keyCode === cc.macro.KEY.escape) {\r\n            this.togglePause();\r\n        }\r\n    }\r\n\r\n    togglePause() {\r\n        this.isPaused = !this.isPaused;\r\n\r\n        if (this.isPaused) {\r\n            cc.director.pause();\r\n            if (this.pausePanel) this.pausePanel.active = true;\r\n        } else {\r\n            cc.director.resume();\r\n            if (this.pausePanel) this.pausePanel.active = false;\r\n        }\r\n    }\r\n\r\n    // Resume 遊戲（for Resume Button）\r\n    resumeGame() {\r\n        this.isPaused = false;\r\n        cc.director.resume();\r\n        if (this.pausePanel) this.pausePanel.active = false;\r\n    }\r\n\r\n    // 重新開始（for Restart Button）\r\n    restartGame() {\r\n        cc.director.resume();\r\n        cc.director.loadScene(cc.director.getScene().name);\r\n    }\r\n\r\n    // 回主選單（for Back to Menu Button）\r\n    goToMainMenu() {\r\n        cc.director.resume();\r\n        cc.director.loadScene(\"MainMenu\"); // 請將 \"MainMenu\" 換成你的主選單場景名\r\n    }\r\n}\r\n"]}