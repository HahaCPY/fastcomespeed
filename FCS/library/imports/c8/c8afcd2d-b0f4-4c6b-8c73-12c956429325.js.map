{"version":3,"sources":["assets\\Script\\Player\\KeyboardControls2.ts"],"names":[],"mappings":";;;;;;;AAEA;IAOI;QANQ,YAAO,GAAY,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/B,sBAAiB,GAAY,KAAK,CAAC;QACnC,kBAAa,GAAY,KAAK,CAAC;QAC/B,eAAU,GAAY,KAAK,CAAC;QAC5B,cAAS,GAAY,KAAK,CAAC;QAG/B,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAC3E,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IAC3E,CAAC;IAED,4CAAgB,GAAhB;QACI,OAAO,IAAI,CAAC,OAAO,CAAC;IACxB,CAAC;IAEO,qCAAS,GAAjB,UAAkB,KAA6B;QAC3C,QAAQ,KAAK,CAAC,OAAO,EAAE;YACnB,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;gBAChB,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;gBACnB,MAAM;YACV,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI;gBAClB,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACpB,MAAM;YACV,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI;gBAClB,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACpB,MAAM;YACV,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK;gBACnB,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;gBACnB,MAAM;YACV,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,QAAQ;gBACzB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;gBAC9B,MAAM;YACV,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM;gBACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,MAAM;YACV,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK;gBAC1B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACtB,MAAM;SACb;IACL,CAAC;IAEO,mCAAO,GAAf,UAAgB,KAA6B;QACzC,QAAQ,KAAK,CAAC,OAAO,EAAE;YACnB,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC;YACrB,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI;gBAClB,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;gBACnB,MAAM;YACV,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC;YACvB,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK;gBACnB,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;gBACnB,MAAM;YACV,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACf,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;gBAC/B,MAAM;YACV,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACf,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,MAAM;YACV,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK;gBACnB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,MAAM;SACb;IACL,CAAC;IAEM,8CAAkB,GAAzB;QACI,OAAO,IAAI,CAAC,iBAAiB,CAAC;IAClC,CAAC;IAEM,0CAAc,GAArB;QACI,OAAO,IAAI,CAAC,UAAU,CAAC;IAC3B,CAAC;IAEM,sCAAU,GAAjB;QACI,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IACL,wBAAC;AAAD,CA3EA,AA2EC,IAAA;AA3EY,8CAAiB","file":"","sourceRoot":"/","sourcesContent":["import { IInputControls } from \"./IInputControls\";\r\n\r\nexport class KeyboardControls2 implements IInputControls {\r\n    private moveDir: cc.Vec2 = cc.v2(0, 0);\r\n    private isInteractPressed: boolean = false;\r\n    private isChopPressed: boolean = false;\r\n    private isChopHeld: boolean = false;\r\n    private isRunHeld: boolean = false;\r\n\r\n    constructor() {\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n    }\r\n\r\n    getMoveDirection(): cc.Vec2 {\r\n        return this.moveDir;\r\n    }\r\n\r\n    private onKeyDown(event: cc.Event.EventKeyboard) {\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.up:\r\n                this.moveDir.y = 1;\r\n                break;\r\n            case cc.macro.KEY.down:\r\n                this.moveDir.y = -1;\r\n                break;\r\n            case cc.macro.KEY.left:\r\n                this.moveDir.x = -1;\r\n                break;\r\n            case cc.macro.KEY.right:\r\n                this.moveDir.x = 1;\r\n                break;\r\n            case cc.macro.KEY.l: // 出餐、互動\r\n                this.isInteractPressed = true;\r\n                break;\r\n            case cc.macro.KEY.k: // 切食材\r\n                this.isChopHeld = true;\r\n                break;\r\n            case cc.macro.KEY.shift: // 跑步\r\n                this.isRunHeld = true;\r\n                break;\r\n        }\r\n    }\r\n\r\n    private onKeyUp(event: cc.Event.EventKeyboard) {\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.up:\r\n            case cc.macro.KEY.down:\r\n                this.moveDir.y = 0;\r\n                break;\r\n            case cc.macro.KEY.left:\r\n            case cc.macro.KEY.right:\r\n                this.moveDir.x = 0;\r\n                break;\r\n            case cc.macro.KEY.l:\r\n                this.isInteractPressed = false;\r\n                break;\r\n            case cc.macro.KEY.k:\r\n                this.isChopHeld = false;\r\n                break;\r\n            case cc.macro.KEY.shift:\r\n                this.isRunHeld = false;\r\n                break;\r\n        }\r\n    }\r\n\r\n    public getInteractPressed(): boolean {\r\n        return this.isInteractPressed;\r\n    }\r\n\r\n    public getChopPressed(): boolean {\r\n        return this.isChopHeld;\r\n    }\r\n\r\n    public getRunHeld(): boolean {\r\n        return this.isRunHeld;\r\n    }\r\n}\r\n"]}