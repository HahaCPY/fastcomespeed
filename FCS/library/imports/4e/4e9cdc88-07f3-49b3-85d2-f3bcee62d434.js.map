{"version":3,"sources":["assets/Script/NPC/GoblinSpawner.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uDAAkD,CAAC,aAAa;AAE1D,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA2C,iCAAY;IAAvD;QAAA,qEAyCC;QAvCG,kBAAY,GAAc,IAAI,CAAC;QAG/B,gBAAU,GAAc,EAAE,CAAC;QAG3B,aAAO,GAAY,IAAI,CAAC;QAGxB,aAAO,GAAY,IAAI,CAAC;QAGxB,mBAAa,GAAW,CAAC,CAAC;QAElB,WAAK,GAAW,CAAC,CAAC;;IAyB9B,CAAC;IAvBG,8BAAM,GAAN,UAAO,EAAU;QACb,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC;QACjB,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,aAAa,EAAE;YAClC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;YACf,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;IACL,CAAC;IAED,mCAAW,GAAX;QACI,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,KAAK,CAAC;YAAE,OAAO;QAE/D,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QACjE,IAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QAEzC,IAAM,MAAM,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACjD,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC,CAAC;QAC5C,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC;QAE1B,IAAM,UAAU,GAAG,MAAM,CAAC,YAAY,CAAC,0BAAgB,CAAC,CAAC;QACzD,IAAI,UAAU,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,EAAE;YAC5C,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;SAC3D;IACL,CAAC;IAtCD;QADC,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,MAAM,EAAE,CAAC;uDACC;IAG/B;QADC,QAAQ,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC;qDACH;IAG3B;QADC,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,CAAC;kDACJ;IAGxB;QADC,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,CAAC;kDACJ;IAGxB;QADC,QAAQ;wDACiB;IAdT,aAAa;QADjC,OAAO;OACa,aAAa,CAyCjC;IAAD,oBAAC;CAzCD,AAyCC,CAzC0C,EAAE,CAAC,SAAS,GAyCtD;kBAzCoB,aAAa","file":"","sourceRoot":"/","sourcesContent":["import GoblinController from \"./GoblinController\"; // ✅ 放在最上面沒問題\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class GoblinSpawner extends cc.Component {\n    @property({ type: cc.Prefab })\n    goblinPrefab: cc.Prefab = null;\n\n    @property({ type: [cc.Node] })\n    dropPoints: cc.Node[] = [];\n\n    @property({ type: cc.Node })\n    player1: cc.Node = null;\n\n    @property({ type: cc.Node })\n    player2: cc.Node = null;\n\n    @property\n    spawnInterval: number = 5;\n\n    private timer: number = 0;\n\n    update(dt: number) {\n        this.timer += dt;\n        if (this.timer >= this.spawnInterval) {\n            this.timer = 0;\n            this.spawnGoblin();\n        }\n    }\n\n    spawnGoblin() {\n        if (!this.goblinPrefab || this.dropPoints.length === 0) return;\n\n        const index = Math.floor(Math.random() * this.dropPoints.length);\n        const dropPoint = this.dropPoints[index];\n\n        const goblin = cc.instantiate(this.goblinPrefab);\n        goblin.setPosition(dropPoint.getPosition());\n        goblin.parent = this.node;\n\n        const controller = goblin.getComponent(GoblinController);\n        if (controller && this.player1 && this.player2) {\n            controller.setTargetPlayers(this.player1, this.player2);\n        }\n    }\n}\n"]}