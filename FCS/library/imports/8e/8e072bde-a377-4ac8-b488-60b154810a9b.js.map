{"version":3,"sources":["assets/Script/PersistentUser.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA4C,kCAAY;IAAxD;QAAA,qEAsBC;QArBU,YAAM,GAAW,EAAE,CAAC;QACpB,WAAK,GAAW,EAAE,CAAC;QACnB,cAAQ,GAAW,EAAE,CAAC;;IAmBjC,CAAC;IAjBG,+BAAM,GAAN;QACI,qBAAqB;QACrB,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;YACvC,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACtC,EAAE,CAAC,GAAG,CAAC,qCAAqC,CAAC,CAAC;SACjD;IACL,CAAC;IAED,oCAAW,GAAX,UAAY,MAAc,EAAE,KAAkB,EAAE,QAAqB;QAAzC,sBAAA,EAAA,UAAkB;QAAE,yBAAA,EAAA,aAAqB;QACjE,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,YAAY;QACZ,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAC9C,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAC5C,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;IACtD,CAAC;IArBgB,cAAc;QADlC,OAAO;OACa,cAAc,CAsBlC;IAAD,qBAAC;CAtBD,AAsBC,CAtB2C,EAAE,CAAC,SAAS,GAsBvD;kBAtBoB,cAAc","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class PersistentUser extends cc.Component {\n    public userId: string = \"\";\n    public email: string = \"\";\n    public nickname: string = \"\";\n\n    onLoad() {\n        // 避免重複掛 persist node\n        if (!cc.game.isPersistRootNode(this.node)) {\n            cc.game.addPersistRootNode(this.node);\n            cc.log('[PersistentUser] addPersistRootNode');\n        }\n    }\n\n    setUserInfo(userId: string, email: string = \"\", nickname: string = \"\") {\n        this.userId = userId;\n        this.email = email;\n        this.nickname = nickname;\n        // 也可以同步存本地端\n        cc.sys.localStorage.setItem('userId', userId);\n        cc.sys.localStorage.setItem('email', email);\n        cc.sys.localStorage.setItem('nickname', nickname);\n    }\n}"]}