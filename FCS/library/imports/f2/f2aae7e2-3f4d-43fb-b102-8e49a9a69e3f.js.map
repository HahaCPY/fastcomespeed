{"version":3,"sources":["assets/Script/PauseManager.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA0C,gCAAY;IAAtD;QAAA,qEA2CC;QAzCG,sBAAgB,GAAc,IAAI,CAAC;QAE3B,oBAAc,GAAY,IAAI,CAAC;QAC/B,cAAQ,GAAY,KAAK,CAAC;;IAsCtC,CAAC;IApCG,6BAAM,GAAN;QACI,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACvB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YAC5D,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YACxC,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,KAAK,CAAC;SACtC;QACD,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAC/E,CAAC;IAED,gCAAS,GAAT;QACI,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAChF,CAAC;IAED,gCAAS,GAAT,UAAU,KAA6B;QACnC,IAAI,KAAK,CAAC,OAAO,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE;YACvC,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;IACL,CAAC;IAED,kCAAW,GAAX;QACI,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;QAE/B,QAAQ;QACR,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,EAAE,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC,KAAK;SAC7B;aAAM;YACH,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC,KAAK;SAC9B;QAED,IAAI,IAAI,CAAC,cAAc;YAAE,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC;IACxE,CAAC;IAEM,mCAAY,GAAnB;QACI,OAAO,IAAI,CAAC,QAAQ,CAAC;IACzB,CAAC;IAxCD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;0DACe;IAFlB,YAAY;QADhC,OAAO;OACa,YAAY,CA2ChC;IAAD,mBAAC;CA3CD,AA2CC,CA3CyC,EAAE,CAAC,SAAS,GA2CrD;kBA3CoB,YAAY","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class PauseManager extends cc.Component {\n    @property(cc.Prefab)\n    pausePanelPrefab: cc.Prefab = null;\n\n    private pausePanelNode: cc.Node = null;\n    private isPaused: boolean = false;\n\n    onLoad() {\n        if (this.pausePanelPrefab) {\n            this.pausePanelNode = cc.instantiate(this.pausePanelPrefab);\n            this.node.addChild(this.pausePanelNode);\n            this.pausePanelNode.active = false;\n        }\n        this.isPaused = false;\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\n    }\n\n    onDestroy() {\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\n    }\n\n    onKeyDown(event: cc.Event.EventKeyboard) {\n        if (event.keyCode === cc.macro.KEY.escape) {\n            this.togglePause();\n        }\n    }\n\n    togglePause() {\n        this.isPaused = !this.isPaused;\n\n        // 新增這一段\n        if (this.isPaused) {\n            cc.director.pause(); // 暫停\n        } else {\n            cc.director.resume(); // 恢復\n        }\n\n        if (this.pausePanelNode) this.pausePanelNode.active = this.isPaused;\n    }\n\n    public isGamePaused() {\n        return this.isPaused;\n    }\n}\n"]}