{"version":3,"sources":["assets/Script/script/AutoSceneSwitcher.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA+C,qCAAY;IAA3D;QAAA,qEA+BC;QA7BG,iBAAW,GAAW,CAAC,CAAC;QAGxB,iBAAW,GAAW,MAAM,CAAC;QAG7B,cAAQ,GAAY,IAAI,CAAC,CAAC,6BAA6B;;IAuB3D,CAAC;IArBG,iCAAK,GAAL;QAAA,iBAIC;QAHG,IAAI,CAAC,YAAY,CAAC;YACd,KAAI,CAAC,aAAa,EAAE,CAAC;QACzB,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IACzB,CAAC;IAED,yCAAa,GAAb;QAAA,iBAcC;QAbG,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,aAAa;YACb,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,CAAC,CAAC;YAC1B,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC;iBAClB,EAAE,CAAC,CAAC,EAAE,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC,CAAC,OAAO;iBAC/B,IAAI,CAAC;gBACF,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;YAC5C,CAAC,CAAC;iBACD,KAAK,EAAE,CAAC;SAChB;aAAM;YACH,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAC3C;IACL,CAAC;IA5BD;QADC,QAAQ;0DACe;IAGxB;QADC,QAAQ;0DACoB;IAG7B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;uDACO;IARR,iBAAiB;QADrC,OAAO;OACa,iBAAiB,CA+BrC;IAAD,wBAAC;CA/BD,AA+BC,CA/B8C,EAAE,CAAC,SAAS,GA+B1D;kBA/BoB,iBAAiB","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class AutoSceneSwitcher extends cc.Component {\n    @property\n    waitSeconds: number = 4;\n\n    @property\n    targetScene: string = \"Menu\";\n\n    @property(cc.Node)\n    fadeNode: cc.Node = null; // 請指定一個全螢幕黑色Sprite節點，alpha=0\n\n    start() {\n        this.scheduleOnce(() => {\n            this.fadeAndSwitch();\n        }, this.waitSeconds);\n    }\n\n    fadeAndSwitch() {\n        if (this.fadeNode) {\n            // 先確保遮罩可見且透明\n            this.fadeNode.active = true;\n            this.fadeNode.opacity = 0;\n            cc.tween(this.fadeNode)\n                .to(1, { opacity: 255 }) // 1秒淡出\n                .call(() => {\n                    cc.director.loadScene(this.targetScene);\n                })\n                .start();\n        } else {\n            cc.director.loadScene(this.targetScene);\n        }\n    }\n}"]}